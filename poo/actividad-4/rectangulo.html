<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Canvas Rect√°ngulo</title>
    <style>
        body 
        {
            width: 50%;
            height: 50%;
            border: 2px solid black;
        }
    </style>
</head>
<body>
<script>

let canvas = document.createElement('canvas');
canvas.width = 400;
canvas.height = 400;
document.body.appendChild(canvas);

let ctx = canvas.getContext('2d');

let rect = 
{
    x: 200,
    y: 200,
    width: 100,
    height: 50,
    angle: 0
};

class Rectangle {
    constructor(x,y,width, height, angle = 0) {
        this.x=x;
        this.y = y;
        this.width = width;
        this.height = height;
        this.angle = angle;
        this.speed = 4; 
    }

    draw() {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.angle);
        ctx.fillStyle = 'blue';
        ctx.fillRect(-this.width / 2, -this.height / 2, this.width, this.height);
        ctx.restore();
    }

    rotate(radians) {
        this.angle += radians;
    }

    moveForward() {
        this.x += this.speed * Math.cos(this.angle);
        this.y += this.speed * Math.sin(this.angle);
    }

    moveBackward() {
        this.x -= this.speed * Math.cos(this.angle);
        this.y -= this.speed * Math.sin(this.angle);
    }
}



function clearCanvas()
{
    ctx.clearRect(0, 0, canvas.width, canvas.height);
}


class RectangleController {
    constructor()


}

//usaremos keydown
//event.key puede ser util

function rotateRect(radians)
{
    rect.angle += radians;
    drawRectangle();
}

function moveRectVertical(dy)
{
    rect.y += dy;
    drawRectangle();
}

function moveRectHorizontal(dx)
{
    rect.x += dx;
    drawRectangle();
}

function update()
{
    rotateRect(0.01);
}

function main()
{
    drawRectangle();
    setInterval( update, 16 );
}

/*esto nos puede servir tmb:
    window.addEventListener('keydown', function (event) {
      console.log(event);
 
      console.log('Key : ' + event.key + ' KeyCode: ' + event.keyCode);


let rightPressed = false;
let leftPressed = false;

function keyDownHandler(e) {
    if (e.key === "Right" || e.key === "ArrowRight") {
        rightPressed = true;
    }
    if (e.key === "Left" || e.key === "ArrowLeft") {
        leftPressed = true;
    }
}

function keyUpHandler(e) {
    if (e.key === "Right" || e.key === "ArrowRight") {
        rightPressed = false;
    }
    if (e.key === "Left" || e.key === "ArrowLeft") {
        leftPressed = false;
    }
}


function draw() {
    if (rightPressed) {
        x += dx;
    } else if (leftPressed) {
        x -= dx;
    }

    // Redibujar en el canvas
    requestAnimationFrame(draw);
}

draw();




}*/

window.onload = main;

</script>
</body>
</html>